document.querySelectorAll(".faq-list__item").forEach(e=>{e.addEventListener("click",()=>{e.classList.contains("faq-list__item--active")?e.classList.remove("faq-list__item--active"):(document.querySelectorAll(".faq-list__item").forEach(e=>e.classList.remove("faq-list__item--active")),e.classList.add("faq-list__item--active"))})}),$(".tubs--documents .tub").on("click",(function(){const e=$(this);$(".tubs--documents .tub").removeClass("tub--active"),e.addClass("tub--active");const t=$(".tubs--documents .tub").index(e);$(".documents-list").removeClass("documents-list--active"),$(".documents-list").eq(t).addClass("documents-list--active")})),$((function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?$(document).on("click",(function(e){$(e.target).closest(".lang").length?$(e.target).closest(".lang").toggleClass("lang--active"):$(".lang").removeClass("lang--active")})):($(".lang").on("mouseover",(function(){$(this).addClass("lang--active")})),$(".lang").on("mouseout",(function(){$(this).removeClass("lang--active")})))})),$((function(){$(".burger").on("click",(function(e){$("body").toggleClass("body--active")})),$(".menu__link").on("click",(function(e){$("body").toggleClass("body--active")})),$(document).ready((function(){var e=$(".popup"),t={contact:$(".popup--contact"),apply:$(".popup--apply"),cookie:$(".popup--cookie"),information:$(".popup--information")};function n(e){e.addClass("popup--active").fadeIn(250,(function(){$(this).animate({opacity:1},250)})),$("body").addClass("body--popup")}function a(e){e.removeClass("popup--active").fadeOut(250,(function(){$(this).animate({opacity:1},250)})),$("body").removeClass("body--popup")}$(".partnership-links__link--partner").click((function(e){e.stopPropagation(),e.preventDefault(),n(t.contact)})),$(".calculator-end__btn").click((function(e){e.stopPropagation(),e.preventDefault(),n(t.apply)})),$(".calculator-column__link").click((function(e){e.stopPropagation(),e.preventDefault(),n(t.information)})),$(".cls").click((function(t){t.stopPropagation(),t.preventDefault(),a(e)})),$(document).click((function(e){$.each(t,(function(t,n){if(n.hasClass("popup--active")){var o=n.find(".popup__inner");o.is(e.target)||0!==o.has(e.target).length||a(n)}}))}))}))})),new Swiper(".heading-swiper",{slidesPerView:1,loop:!0,speed:750,spaceBetween:30,navigation:{prevEl:".arrow--prev",nextEl:".arrow--next"}}),document.addEventListener("DOMContentLoaded",(function(){var e,t,n,a,o,i,s,r,c;for(a=(e=document.getElementsByClassName("custom-select")).length,t=0;t<a;t++){for(o=(i=e[t].getElementsByTagName("select")[0]).length,(s=document.createElement("DIV")).setAttribute("class","select-selected"),s.innerHTML=i.options[i.selectedIndex].innerHTML,e[t].appendChild(s),(r=document.createElement("DIV")).setAttribute("class","select-items select-hide"),n=1;n<o;n++)(c=document.createElement("DIV")).innerHTML=i.options[n].innerHTML,c.addEventListener("click",(function(e){var t,n,a,o,i,s,r;for(s=(o=this.parentNode.parentNode.getElementsByTagName("select")[0]).length,i=this.parentNode.previousSibling,n=0;n<s;n++)if(o.options[n].innerHTML==this.innerHTML){for(o.selectedIndex=n,i.innerHTML=this.innerHTML,r=(t=this.parentNode.getElementsByClassName("same-as-selected")).length,a=0;a<r;a++)t[a].removeAttribute("class");this.setAttribute("class","same-as-selected");break}i.click()})),r.appendChild(c);e[t].appendChild(r),s.addEventListener("click",(function(e){e.stopPropagation(),l(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")}))}function l(e){var t,n,a,o,i,s=[];for(t=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected"),o=t.length,i=n.length,a=0;a<i;a++)e==n[a]?s.push(a):n[a].classList.remove("select-arrow-active");for(a=0;a<o;a++)s.indexOf(a)&&t[a].classList.add("select-hide")}document.addEventListener("click",l)})),document.addEventListener("DOMContentLoaded",()=>{let e=null,t=null;function n(e){const t={annuity:{newAuto:{annualRate:.37026,commissionRate:.055,insuranceRate:.08},usedAuto:{annualRate:.2399,commissionRate:0,insuranceRate:0}},equal:{newAuto:{annualRate:.28,commissionRate:.055,insuranceRate:.08},usedAuto:{annualRate:.2399,commissionRate:0,insuranceRate:0}}},n=Array.from(e.querySelectorAll(".form-box__input--time")),a=Array.from(e.querySelectorAll(".form-box__input--sum")),o=e.querySelector(".custom-select select"),i=Array.from(e.querySelectorAll(".calculator-radio__input")),s=Array.from(e.querySelectorAll(".dashboard-info__text--period")),r=Array.from(e.querySelectorAll(".dashboard-info__text--sum")),c=e.querySelector(".calculator-column__text--payment"),l=e.querySelector(".calculator-column__text--overpayment"),u=e.querySelector(".dashboard--first .dashboard__line"),d=e.querySelector(".dashboard--second .dashboard__line"),m=e.querySelector(".features-item--new"),f=e.querySelector(".features-item--used"),p=e.querySelector(".features-item--insurance"),v=Array.from(e.querySelectorAll(".calculator-content__info .calculator-info__text")),g=Array.from(e.querySelectorAll(".calculator-content__info .calculator-info__suptext"));let h=1,y=1e5,_=o.value,E="newAuto",L="lifeInsuranced";function b(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}function $(e,t,n){return Math.max(t,Math.min(n,e))}function A(e,t,n,a,o){const i=$((t-n)/(a-n),0,1);e.style.transform=`rotate(${i*o-o/2}deg)`}function C(){A(u,h,1,60,243),A(d,y,1e5,1e7,243),s.forEach(e=>e.textContent=h+" мес"),r.forEach(e=>e.textContent=function(e){if(e>=1e6){let t=(e/1e6).toFixed(1);return t.endsWith(".0")&&(t=t.slice(0,-2)),t+" млн"}return e>=1e3?Math.round(e/1e3)+" тыс":b(e)}(y)),v.forEach(e=>e.textContent=h+" мес"),g.forEach(e=>e.textContent=b(y)+" ₸")}function q(){const e="2"===_?"equal":"annuity",n=t[e][E],a=y*n.commissionRate,o="lifeInsuranced"===L?y*n.insuranceRate:0,i=y+a+o,s=n.annualRate/12,r=h;let u,d;if("annuity"===e)u=i*s/(1-Math.pow(1+s,-r)),d=u*r;else{const e=i/r;u=e+i*s;d=i+s*(r*i-e*(r*(r-1)/2))}c.textContent=b(Math.round(u))+" ₸",l.textContent=b(Math.round(d-y))+" ₸"}const S=e=>e.target.value=h,k=e=>{h=$(+e.target.value||1,1,60),C(),q()},x=e=>{e.target.value||(h=1),e.target.value=h+" мес",C(),q()};n.forEach(e=>{e.addEventListener("focus",S),e.addEventListener("input",k),e.addEventListener("blur",x)});const w=e=>e.target.value=y,M=e=>{y=$(+e.target.value||1e5,1e5,1e7),C(),q()},R=e=>{e.target.value||(y=1e5),e.target.value=b(y)+" ₸",C(),q()};a.forEach(e=>{e.addEventListener("focus",w),e.addEventListener("input",M),e.addEventListener("blur",R)});const B=()=>{_=o.value,e.querySelectorAll(".calculator-info__subtext").forEach(e=>e.textContent="2"===_?"Равными долями":"Аннуитет"),q()};o.addEventListener("change",B);const I=t=>{const n=t.target;e.querySelectorAll(`input[name="${n.name}"]`).forEach(e=>e.closest(".calculator-radios__radio").classList.remove("calculator-radio--active"));n.closest(".calculator-radios__radio").classList.add("calculator-radio--active"),"autoStatus"===n.name?(E=n.id,m.classList.toggle("features-item--active","newAuto"===E),f.classList.toggle("features-item--active","usedAuto"===E)):(L=n.id,p.classList.toggle("features-item--active","lifeInsuranced"===L)),q()};return i.forEach(e=>e.addEventListener("change",I)),n.forEach(e=>e.value=h+" мес"),a.forEach(e=>e.value=b(y)+" ₸"),C(),q(),()=>{n.forEach(e=>{e.removeEventListener("focus",S),e.removeEventListener("input",k),e.removeEventListener("blur",x)}),a.forEach(e=>{e.removeEventListener("focus",w),e.removeEventListener("input",M),e.removeEventListener("blur",R)}),o.removeEventListener("change",B),i.forEach(e=>e.removeEventListener("change",I))}}function a(){const a=window.innerWidth>768?"desk":"mobile";if(a===e)return;t&&t();const o=document.querySelector("desk"===a?".calculator--desk":".calculator--mobile");o&&(t=n(o),e=a)}a(),window.addEventListener("resize",()=>{a()})}),jQuery(document).ready((function(){AOS.init({duration:750,offset:0,anchorPlacement:"top-bottom"})}));